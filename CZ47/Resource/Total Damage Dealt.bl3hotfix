
@title Total Damage Dealt
@version 1.0.0
@author CZ47
@contact =]#7647
@categories resource, gear-smg, vendor, qol
@pakfile pakchunk0-CZ-TotalDamageDealt_99_P.pak
@license The pakfile contents included here are owned by Gearbox/2K/whoever-technically-owns-that-stuff

### The hotfix license:
### @license Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)
### @license-url https://creativecommons.org/licenses/by-sa/4.0/

### This Hotfix mod MUST be used with the accompanying Pakmod.
### 
### Changes the P2P Networker to shoot the Total Accumulated Damage Dealt 
### of upto the last 24h or since the last shot.
### 
### The Weapon can be found in all Ammo/Grenade Vendors or
### mail this to yourself if you use B3HM or use in Save Editor:
### bl3(BLQDtEXc7O2Dwu7MBNDBc1a5DKr98YPV1OPSF7oi4129X1qZ)
### 
### 
### Credit to Apocalyptech for fixing the Secondary Firing mode of the P2P Networker.
### This mod contains the mod: "P2P Networker Element Fix"
### 

# Putting the Weapon in the Ammo/Grenade Vendor
SparkEarlyLevelPatchEntry,(1,1,0,MatchAll),/Game/GameData/Loot/ItemPools/VendingMachines/DA_ItemPool_VendingMachine_Grenades.DA_ItemPool_VendingMachine_Grenades,BalancedItems,0,,((InventoryBalanceData=/Game/PatchDLC/Raid1/Gear/Weapons/Link/Balance/Balance_SM_MAL_Link.Balance_SM_MAL_Link,ResolvedInventoryBalanceData=InventoryBalanceData'"/Game/PatchDLC/Raid1/Gear/Weapons/Link/Balance/Balance_SM_MAL_Link.Balance_SM_MAL_Link"',Weight=(BaseValueConstant=1,BaseValueScale=1)))
SparkEarlyLevelPatchEntry,(1,1,0,MatchAll),/Game/GameData/Loot/ItemPools/VendingMachines/DA_ItemPool_VendingMachine_Grenades.DA_ItemPool_VendingMachine_Grenades,Quantity,0,,(BaseValueConstant=5,BaseValueScale=1)

# Setting the Damage Source
SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Parts/Part_SM_MAL_Barrel_Link.Part_SM_MAL_Barrel_Link:AspectList_WeaponUseModeAspectData.WeaponUseComponent_BPWeaponFireProjectile_MAL_SMG,DamageSource,0,,BlueprintGeneratedClass'/Game/Maffs/DamageStorage/DamageSource_TotalDmg2.DamageSource_TotalDmg2_C'

# Changing the projectiletype so it won't chain and cause more screen clutter
SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Parts/Part_SM_MAL_Barrel_Link.Part_SM_MAL_Barrel_Link:AspectList_WeaponUseModeAspectData.WeaponUseComponent_BPWeaponFireProjectile_MAL_SMG,LightProjectileData,0,,BlueprintGeneratedClass'/Game/Gear/Weapons/_Shared/_Design/_Manufacturers/Maliwan/Projectiles/SMG/LightProjectile_MAL_SMG_Barrel_01.LightProjectile_MAL_SMG_Barrel_01_C'

# Changing the name and adding special text
SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Name_MAL_SM_Link.Name_MAL_SM_Link,PartName,0,,Total Damage Dealt
SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/UIStat_RedText_Link.UIStat_RedText_Link,Text,0,,[Flavor]Lend me your energy![/Flavor]

SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Parts/Part_SM_MAL_Barrel_Link.Part_SM_MAL_Barrel_Link,UIStats,0,,((UIStat=UIStatData_Text'"/Game/PatchDLC/Raid1/Gear/Weapons/Link/UIStat_RedText_Link.UIStat_RedText_Link"'),(UIStat=UIStatData_Text'"/Game/PatchDLC/Raid1/Gear/Weapons/Link/Parts/Part_SM_MAL_Barrel_Link.Part_SM_MAL_Barrel_Link:Extra"'))

SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Parts/Part_SM_MAL_Barrel_Link.Part_SM_MAL_Barrel_Link:Extra,Text,0,,[rarity_epic]Shoots the acummulated damage dealt of upto the last 24h. Persists through Death and Fast Travel.[/rarity_epic]
SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Parts/Part_SM_MAL_Barrel_Link.Part_SM_MAL_Barrel_Link:Extra,SectionName,0,,ManufacturerBottom
SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Parts/Part_SM_MAL_Barrel_Link.Part_SM_MAL_Barrel_Link:Extra,BasePriority,0,,1



# Making the weapon deal only the accumulated damage // Making it a single shot weapon // Setting the Status Effect Chance to 0 to prevent screen clutter.
SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Parts/Part_SM_MAL_Barrel_Link.Part_SM_MAL_Barrel_Link,WeaponUseModeAttributeEffects.WeaponUseModeAttributeEffects[0].AttributeEffects,0,,((AttributeToModify=GbxAttributeData'/Game/GameData/Weapons/Att_Weapon_Damage.Att_Weapon_Damage',ModifierType=ScaleSimple,ModifierValue=(BaseValueConstant=0,DataTableValue=(DataTable=None,RowName="",ValueName=""),BaseValueAttribute=None,AttributeInitializer=None,BaseValueScale=1)),(AttributeToModify=GbxAttributeData'/Game/GameData/Weapons/Att_Weapon_Damage.Att_Weapon_Damage',ModifierType=PostAdd,ModifierValue=(BaseValueConstant=0.00001,DataTableValue=(DataTable=None,RowName="",ValueName=""),BaseValueAttribute="",AttributeInitializer=None,BaseValueScale=1)),(AttributeToModify=GbxAttributeData'/Game/GameData/Weapons/Att_Weapon_AutomaticBurstCount.Att_Weapon_AutomaticBurstCount',ModifierType=OverrideBaseValue,ModifierValue=(BaseValueConstant=1,DataTableValue=(DataTable=None,RowName="",ValueName=""),BaseValueAttribute="",AttributeInitializer=None,BaseValueScale=1)),(AttributeToModify=GbxAttributeData'/Game/GameData/Weapons/Att_Weapon_FireRate.Att_Weapon_FireRate',ModifierType=OverrideBaseValue,ModifierValue=(BaseValueConstant=20,DataTableValue=(DataTable=None,RowName="",ValueName=""),BaseValueAttribute="",AttributeInitializer=None,BaseValueScale=1)),(AttributeToModify=GbxAttributeData'/Game/GameData/Weapons/Att_Weapon_StatusEffectChance.Att_Weapon_StatusEffectChance',ModifierType=ScaleSimple,ModifierValue=(BaseValueConstant=0,DataTableValue=(DataTable=None,RowName="",ValueName=""),BaseValueAttribute="",AttributeInitializer=None,BaseValueScale=1)))


# Putting the ability on the VHs
SparkPatchEntry,(1,1,0,),/Game/PlayerCharacters/Operative/_Shared/_Design/Character/BPChar_Operative.BPChar_Operative_C:OakPlayerAbilityManager_GEN_VARIABLE,DefaultAbilities,0,,OakCharacterAbilityListData'/Game/PlayerCharacters/SirenBrawler/_Shared/_Design/Character/DefaultAbilitiesList_Siren.DefaultAbilitiesList_Siren'
SparkPatchEntry,(1,1,0,),/Game/PlayerCharacters/SirenBrawler/_Shared/_Design/Character/DefaultAbilitiesList_Siren.DefaultAbilitiesList_Siren,Abilities,0,,(BlueprintGeneratedClass'/Game/Maffs/DamageStorage/Ability_TotalDmg.Ability_TotalDmg_C')
SparkPatchEntry,(1,1,0,),/Game/PlayerCharacters/Gunner/_Shared/_Design/Character/Inventory/DefaultAbilitiesList_Gunner.DefaultAbilitiesList_Gunner,Abilities,0,,(BlueprintGeneratedClass'/Game/Maffs/DamageStorage/Ability_TotalDmg.Ability_TotalDmg_C')
SparkPatchEntry,(1,1,0,),/Game/PlayerCharacters/Beastmaster/_Shared/_Design/Character/ActionSkill/DefaultAbilitiesList_Beastmaster.DefaultAbilitiesList_Beastmaster,Abilities,0,,(BlueprintGeneratedClass'/Game/Maffs/DamageStorage/Ability_TotalDmg.Ability_TotalDmg_C')



###
### Name: P2P Networker Element Fix
### Version: 1.0.0
### Author: Apocalyptech
### Contact: https://apocalyptech.com/contact.php
### Categories: gear-general, bugfix
###
### License: Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)
### License URL: https://creativecommons.org/licenses/by-sa/4.0/
###

###
### P2P Networker is an unfinished/unreleased gun that's still present in the
### BL3 data.  It's basically a more-powerful redistributor.  One thing broken
### about it is that it only has a primary element, but will still let you
### 'switch' elements, which results in a message like 'GUN TEAM FIX NAME PLZ'
### in the game's UI.  Amusing as that is, this mod will add in a secondary
### element to the gun, so that it can be switched properly just like any other
### Maliwan weapon.
###
### Generated by gen_p2p_networker_element_fix.py
###

SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Balance/InvPartSet_SM_MAL_Link.InvPartSet_SM_MAL_Link,ActorPartLists,0,,((PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=0,bCanSelectMultipleParts=False,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=0,Max=0),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=1,bCanSelectMultipleParts=True,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=1,Max=1),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=2,bCanSelectMultipleParts=False,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=0,Max=0),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=3,bCanSelectMultipleParts=True,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=2,Max=2),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=4,bCanSelectMultipleParts=False,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=0,Max=0),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=5,bCanSelectMultipleParts=False,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=0,Max=0),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=6,bCanSelectMultipleParts=False,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=0,Max=0),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=7,bCanSelectMultipleParts=False,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=0,Max=0),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=8,bCanSelectMultipleParts=False,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=0,Max=0),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=9,bCanSelectMultipleParts=False,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=0,Max=0),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=10,bCanSelectMultipleParts=False,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=0,Max=0),bEnabled=True,Parts=()),(PartTypeEnum=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/EPartList_Maliwan_SMG.EPartList_Maliwan_SMG,PartType=11,bCanSelectMultipleParts=False,bUseWeightWithMultiplePartSelection=False,MultiplePartSelectionRange=(Min=0,Max=0),bEnabled=True,Parts=()))

SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Balance/Balance_SM_MAL_Link.Balance_SM_MAL_Link,RuntimePartList.PartTypeTOC,0,,((StartIndex=0,NumParts=1),(StartIndex=1,NumParts=1),(StartIndex=2,NumParts=1),(StartIndex=3,NumParts=2),(StartIndex=5,NumParts=1),(StartIndex=6,NumParts=1),(StartIndex=7,NumParts=3),(StartIndex=10,NumParts=2),(StartIndex=12,NumParts=3),(StartIndex=15,NumParts=5),(StartIndex=20,NumParts=5),(StartIndex=25,NumParts=1))

SparkPatchEntry,(1,1,0,),/Game/PatchDLC/Raid1/Gear/Weapons/Link/Balance/Balance_SM_MAL_Link.Balance_SM_MAL_Link,RuntimePartList.AllParts,0,,((PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Body/Part_SM_MAL_Body.Part_SM_MAL_Body,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Body/Part_SM_MAL_Body_B.Part_SM_MAL_Body_B,Weight=(BaseValueConstant=1.0)),(PartData=/Game/PatchDLC/Raid1/Gear/Weapons/Link/Parts/Part_SM_MAL_Barrel_Link.Part_SM_MAL_Barrel_Link,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Barrel/Barrel_02/Part_SM_MAL_Barrel_02_B.Part_SM_MAL_Barrel_02_B,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Barrel/Barrel_02/Part_SM_MAL_Barrel_02_A.Part_SM_MAL_Barrel_02_A,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Scope/Part_SM_MAL_Scope_03.Part_SM_MAL_Scope_03,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Mag/Part_SM_MAL_Mag_01.Part_SM_MAL_Mag_01,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Grip/Part_SM_MAL_Grip_03.Part_SM_MAL_Grip_03,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Grip/Part_SM_MAL_Grip_02.Part_SM_MAL_Grip_02,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Grip/Part_SM_MAL_Grip_01.Part_SM_MAL_Grip_01,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Grip/Part_SM_MAL_Grip_03_A.Part_SM_MAL_Grip_03_A,Weight=(BaseValueConstant=0.5)),(PartData=None,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Stock/Part_SM_MAL_Stock_01.Part_SM_MAL_Stock_01,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Stock/Part_SM_MAL_Stock_02.Part_SM_MAL_Stock_02,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Stock/Part_SM_MAL_Stock_03.Part_SM_MAL_Stock_03,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Elemental_Primary/Part_SM_Mal_ElemPrimary_01_Fire.Part_SM_Mal_ElemPrimary_01_Fire,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Elemental_Primary/Part_SM_Mal_ElemPrimary_02_Cryo.Part_SM_Mal_ElemPrimary_02_Cryo,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Elemental_Primary/Part_SM_Mal_ElemPrimary_03_Shock.Part_SM_Mal_ElemPrimary_03_Shock,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Elemental_Primary/Part_SM_Mal_ElemPrimary_04_Radiation.Part_SM_Mal_ElemPrimary_04_Radiation,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Elemental_Primary/Part_SM_Mal_ElemPrimary_05_Corrosive.Part_SM_Mal_ElemPrimary_05_Corrosive,Weight=(BaseValueConstant=1.0)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Elemental_Secondary/Part_SM_Mal_ElemSecondary_01_Fire.Part_SM_Mal_ElemSecondary_01_Fire,Weight=(BaseValueConstant=1)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Elemental_Secondary/Part_SM_Mal_ElemSecondary_02_Cryo.Part_SM_Mal_ElemSecondary_02_Cryo,Weight=(BaseValueConstant=1)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Elemental_Secondary/Part_SM_Mal_ElemSecondary_03_Shock.Part_SM_Mal_ElemSecondary_03_Shock,Weight=(BaseValueConstant=1)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Elemental_Secondary/Part_SM_Mal_ElemSecondary_04_Radiation.Part_SM_Mal_ElemSecondary_04_Radiation,Weight=(BaseValueConstant=1)),(PartData=/Game/Gear/Weapons/SMGs/Maliwan/_Shared/_Design/Parts/Elemental_Secondary/Part_SM_Mal_ElemSecondary_05_Corrosive.Part_SM_Mal_ElemSecondary_05_Corrosive,Weight=(BaseValueConstant=1)),(PartData=/Game/PatchDLC/Raid1/Gear/Weapons/Link/Parts/Part_SM_MAL_Material_Link.Part_SM_MAL_Material_Link,Weight=(BaseValueConstant=1.0)))
